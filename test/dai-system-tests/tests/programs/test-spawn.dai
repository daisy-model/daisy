;;; test-spawn.dai --- Test the spawn command for running scenarios.

(input file "dk-soil.dai")
(input file "tillage.dai")
(input file "fertilizer.dai")
(input file "crop.dai")
(input file "dk-management.dai")
(input file "log-std.dai")

(defprogram Base Daisy
  "This is the stuff all scenrios have in common."
  (time 1979 1 1)
  (stop 1981 1 1)
  (activate_output (after 1980 1 1))
  (output "Field water" "Field nitrogen"))

;; We test two different climates.

(defweather Normal table (file "dk-taastrup.dwf"))
(defweather Warmer Normal (TempOffset 2 [dg C]))

;; The Foulum column has no groundwater defined.
(defcolumn FoulumD Foulum (Groundwater deep))

(defprogram N-A-S Base "N-A-S scenarie"
  (weather Normal) (column Askov) (manager "SBarley w. catch crop"))

(defprogram W-A-S Base "W-A-S scenarie"
  (weather Warmer) (column Askov) (manager "SBarley w. catch crop"))

;; Now, run them all.

(defprogram all spawn
  (program N-A-S W-A-S))

(run all)

;;; test-spawn.dai ends her.
